# :material-cog-outline:{ .md .middle } تنظیمات Fragment

راه‌حل Fragment تقریباً مشکل IP تمیز رو برای CDN Cloudflare با مخفی کردن SNI حل می‌کنه، ولی تنظیمات باید بر اساس اپراتور شما تعیین بشن. لطفا دقت کنید sing-box از فرگمنت پشتیبانی میکنه، اگرچه تنظیمات فرگمنت روش اعمال نمیشه و تنظیمات پیشفرض خودش رو داره.

![Fragment settings](../images/fragment-settings.jpg)

به‌صورت پیش‌فرض، تنظیمات این‌جوریه:

- **Length**: 100-200
- **Interval**: 1-1
- **Packets**: tlshello

می‌تونید پارامترها رو بر اساس وضعیت اپراتورتون تنظیم کنید. معمولاً حالت پیش‌فرض یا `Low` باید مناسب باشه. لطفاً توجه داشته باشید که با تغییر به حالتای `Medium` یا `High`، پینگ handshake بالاتر می‌ره اما می‌تونه منجر به اتصال بهتر و پایدارتر بشه. استفاده از `Best Fragment` همیشه بهترین و هوشمندانه‌ترین راه حله، فقط متصل بشید و حداقل 30 ثانیه صبر کنید.

!!! info "راهنمایی"

    * Packetها چند حالت دارن. ولی `tlshello` فقط برای **کانفیگ‌های TLS** اعمال می‌شه؛ پورت‌هایی مثل 80، 8080 و غیره تحت تأثیر نیستن.

!!! tip "نکته"
    در حال حاضر، عملکرد Fragment توی برنامه‌هایی که از هسته **Xray Knocker** استفاده می‌کنن، مثل **MahsaNG** و **v2rayN PRO**، به‌مراتب بهتره. این هسته برای شرایط ایران توسعه داده شده و سفارشی‌سازی شده.

!!! tip "نکته"
    اگه نمی‌تونید تنظیمات بهینه Fragment رو برای اپراتورتون پیدا کنید، یه کانفیگ **Best Fragment** توی اشتراک در دسترسه. فقط بهش وصل بشید و کمی صبر کنید؛ تقریباً همه تنظیمات معتبر Fragment رو روی اپراتور شما تست می‌کنه و به‌صورت خودکار به بهترینش وصل می‌شه.

!!! note "یادداشت"
    مقادیر Fragment محدودیت‌ حداکثری دارن. Length نمی‌تونه بیشتر از 500 باشه و Interval نمی‌تونه بیشتر از 30 میلی‌ثانیه باشه.
